{
    "name": "bidsmreye",
    "description": "bids app using deepMReye to decode eye motion for fMRI time series data",
    "tool-version": "0.4.0",
    "schema-version": "0.5",
    "command-line": "bidsmreye [VERSION] [BIDS_DIR] [OUTPUT_DIR] [ANALYSIS_LEVEL] [COMMAND] [PARTICIPANT_LABEL] [TASK] [RUN] [SPACE] [LOG_LEVEL] [DEBUG] [RESET_DATABASE] [BIDS_FILTER_FILE] [FORCE] [LINEAR_COREG] [MODEL]",
    "inputs": [
        {
            "name": "version",
            "id": "version",
            "description": "show program's version number and exit",
            "type": "String",
            "optional": true,
            "command-line-flag": "--version",
            "value-key": "[VERSION]"
        },
        {
            "name": "bids_dir",
            "id": "bids_dir",
            "description": "Fullpath to the directory with the input dataset formatted according to the BIDS standard. The dataset should contain 'minimally processed' (meaning at least 'realigned'). The output of fMRIprep or bidspm should be acceptable inputs. For \"qc\", this lust be the fullpath to the directory with the output generated by bidsmreye that should be quality controlled.",
            "type": "String",
            "list": true,
            "optional": false,
            "value-key": "[BIDS_DIR]"
        },
        {
            "name": "output_dir",
            "id": "output_dir",
            "description": "Fullpath to the directory where the output files will be stored.",
            "type": "String",
            "list": true,
            "optional": false,
            "value-key": "[OUTPUT_DIR]"
        },
        {
            "name": "analysis_level",
            "id": "analysis_level",
            "description": "Level of the analysis that will be performed.Multiple participant level analyses can be run independently(in parallel) using the same ``output_dir``.",
            "type": "String",
            "list": true,
            "optional": false,
            "default-value": "participant",
            "value-key": "[ANALYSIS_LEVEL]",
            "value-choices": [
                "participant",
                "group"
            ]
        },
        {
            "name": "participant_label",
            "id": "participant_label",
            "description": "The label(s) of the participant(s) that should be analyzed. The label corresponds to sub-<participant_label> from the BIDS spec (so it does not include \"sub-\"). If this parameter is not provided, all subjects will be analyzed. Multiple participants can be specified with a space separated list.",
            "type": "String",
            "list": true,
            "optional": true,
            "command-line-flag": "--participant_label",
            "value-key": "[PARTICIPANT_LABEL]"
        },
        {
            "name": "task",
            "id": "task",
            "description": "The label of the task that will be analyzed. The label corresponds to task-<task_label> from the BIDS spec so it does not include \"task-\").",
            "type": "String",
            "list": true,
            "optional": true,
            "command-line-flag": "--task",
            "value-key": "[TASK]"
        },
        {
            "name": "run",
            "id": "run",
            "description": "The label of the run that will be analyzed. The label corresponds to run-<task_label> from the BIDS spec so it does not include \"run-\").",
            "type": "String",
            "list": true,
            "optional": true,
            "command-line-flag": "--run",
            "value-key": "[RUN]"
        },
        {
            "name": "space",
            "id": "space",
            "description": "The label of the space that will be analyzed. The label corresponds to space-<space_label> from the BIDS spec (so it does not include \"space-\").",
            "type": "String",
            "list": true,
            "optional": true,
            "command-line-flag": "--space",
            "value-key": "[SPACE]"
        },
        {
            "name": "log_level",
            "id": "log_level",
            "description": "Log level",
            "type": "String",
            "optional": true,
            "command-line-flag": "-v",
            "value-key": "[LOG_LEVEL]"
        },
        {
            "name": "debug",
            "id": "debug",
            "description": "Switch to debug mode",
            "type": "Flag",
            "optional": true,
            "command-line-flag": "--debug",
            "value-key": "[DEBUG]"
        },
        {
            "name": "reset_database",
            "id": "reset_database",
            "description": "Resets the database of the input dataset.",
            "type": "Flag",
            "optional": true,
            "command-line-flag": "--reset_database",
            "value-key": "[RESET_DATABASE]"
        },
        {
            "name": "bids_filter_file",
            "id": "bids_filter_file",
            "description": "A JSON file describing custom BIDS input filters using PyBIDS. For further details, please check out TBD.",
            "type": "String",
            "optional": true,
            "command-line-flag": "--bids_filter_file",
            "value-key": "[BIDS_FILTER_FILE]"
        },
        {
            "name": "force",
            "id": "force",
            "description": "Overwrite previous output.",
            "type": "Flag",
            "optional": true,
            "command-line-flag": "--force",
            "value-key": "[FORCE]"
        },
        {
            "name": "linear_coreg",
            "id": "linear_coreg",
            "description": "Uses a less aggressive (linear) alignment procedure to the deepmreye template.",
            "type": "Flag",
            "optional": true,
            "command-line-flag": "--linear_coreg",
            "value-key": "[LINEAR_COREG]"
        },
        {
            "name": "model",
            "id": "model",
            "description": "Model to use. Default model: 1to6.",
            "type": "String",
            "optional": true,
            "default-value": "1to6",
            "command-line-flag": "--model",
            "value-key": "[MODEL]",
            "value-choices": [
                "1_guided_fixations",
                "2_pursuit",
                "3_openclosed",
                "3_pursuit",
                "4_pursuit",
                "5_free_viewing",
                "1to5",
                "1to6"
            ]
        },
        {
            "name": "command",
            "id": "command",
            "description": "Choose a subcommand",
            "type": "String",
            "optional": false,
            "value-key": "[COMMAND]",
            "value-choices": [
                "prepare",
                "generalize",
                "all",
                "qc"
            ],
            "value-requires": {
                "prepare": [],
                "generalize": [],
                "all": [],
                "qc": []
            },
            "value-disables": {
                "prepare": [
                    "model"
                ],
                "generalize": [
                    "reset_database",
                    "debug",
                    "force",
                    "linear_coreg",
                    "log_level",
                    "run",
                    "space",
                    "bids_filter_file",
                    "participant_label",
                    "task"
                ],
                "all": [
                    "reset_database",
                    "debug",
                    "force",
                    "log_level",
                    "model",
                    "run",
                    "space",
                    "bids_filter_file",
                    "participant_label",
                    "task"
                ],
                "qc": [
                    "reset_database",
                    "debug",
                    "force",
                    "linear_coreg",
                    "log_level",
                    "model",
                    "run",
                    "space",
                    "bids_filter_file",
                    "task"
                ]
            }
        }
    ],
    "tags": {},
    "suggested-resources": {
        "cpu-cores": 1,
        "ram": 1,
        "walltime-estimate": 60
    }
}
